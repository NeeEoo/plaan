"use strict";!function(){var s=document.getElementById("main").style.getPropertyValue("--rows"),e=document.getElementById("plan");e.querySelectorAll('[type="number"]').forEach(function(e){var n=e.closest("li"),a=e.dataset.key,c=function(e){return e.getAttribute("max")===s?"y":"x"}(e),t=localStorage.getItem(a),o={name:n.querySelector("h2").textContent};null!==t&&void 0!==(o=JSON.parse(t))[c]&&(n.style.setProperty("--".concat(c),o[c]),e.value=o[c]),e.addEventListener("change",function(e){var t=e.target.value;o[c]=t,n.style.setProperty("--".concat(c),t),localStorage.setItem(a,JSON.stringify(o))},!1)}),e.querySelectorAll("[data-step]").forEach(function(e){var t=e.dataset.controls,n=e.dataset.step,a=document.getElementById(t),c=new Event("change",{bubbles:!0});e.addEventListener("click",function(){switch(n){case"up":a.stepUp(1),a.dispatchEvent(c);break;case"down":a.stepDown(1),a.dispatchEvent(c);break;default:console.warn("".concat(e.textContent," value for data-step matches nothing…"))}},!1)}),e.querySelectorAll(".arrows").forEach(function(e){var t=e.dataset.controls,n=new Event("change",{bubbles:!0}),a=document.getElementById("".concat(t,"-y")),c=document.getElementById("".concat(t,"-x"));e.addEventListener("keydown",function(e){switch(e.keyCode){case 9:case 16:break;case 37:c.stepDown(1),c.dispatchEvent(n);break;case 38:a.stepDown(1),a.dispatchEvent(n);break;case 39:c.stepUp(1),c.dispatchEvent(n);break;case 40:a.stepUp(1),a.dispatchEvent(n);break;default:console.warn("".concat(e.keyCode," can't move ").concat(t,"…"))}},!1)})}();